import{a as z,b as G,c as H,d as X,e as q,f as J,g as K}from"./chunk-IJ6G24IL.js";import{a as W}from"./chunk-SJCQLIIU.js";import{a as A,b as B,c as U}from"./chunk-TE33ORRB.js";import{h as O,k as P}from"./chunk-XWUIZVU3.js";import{$ as _,Ab as R,Ba as o,Bb as T,Cb as k,Db as E,Eb as M,Ib as L,Pb as y,Qb as N,Ra as D,Va as u,W as h,aa as w,ab as s,ba as b,bb as t,ca as C,cb as n,db as v,gc as F,hc as V,ja as f,kb as I,kc as j,mb as p,vb as S,xb as r,yb as x,zb as m}from"./chunk-VMW2IAQ2.js";var Y=(l,a)=>["/races",l,a];function Z(l,a){l&1&&v(0,"app-loading")}function $(l,a){if(l&1&&(t(0,"div",26)(1,"div",27)(2,"div")(3,"div",28),r(4,"NEXT RACE"),n(),t(5,"h2",29),r(6),n(),t(7,"p",30),r(8),n(),t(9,"p",31),r(10),n()(),t(11,"div",32)(12,"div",33),r(13),n(),t(14,"div",34),r(15,"days to go"),n()()()()),l&2){let e,i,d,g,c=p(2);o(6),x((e=c.nextRace())==null?null:e.raceName),o(2),T(" ",(i=c.nextRace())==null?null:i.Circuit.circuitName," \u2022 ",(i=c.nextRace())==null?null:i.Circuit.Location.locality,", ",(i=c.nextRace())==null?null:i.Circuit.Location.country," "),o(2),R(" ",c.formatDate((d=c.nextRace())==null?null:d.date)," \u2022 Round ",(d=c.nextRace())==null?null:d.round," "),o(3),x(c.getDaysUntilRace((g=c.nextRace())==null?null:g.date))}}function ee(l,a){if(l&1&&(t(0,"div",51)(1,"div",16)(2,"span",38),r(3,"Time until race"),n(),t(4,"span",52),r(5),n()()()),l&2){let e=p().$implicit,i=p(2);o(5),m("",i.getDaysUntilRace(e.date)," days")}}function te(l,a){l&1&&(t(0,"div",51)(1,"div",53),b(),t(2,"svg",54),v(3,"path",55),n(),C(),t(4,"span",56),r(5,"View Results"),n()()())}function ne(l,a){if(l&1&&(t(0,"div",35)(1,"div",36)(2,"span",37),r(3),n(),t(4,"span",38),r(5),n()(),t(6,"h3",39),r(7),n(),t(8,"div",40)(9,"div",41),b(),t(10,"svg",42),v(11,"path",43)(12,"path",44),n(),C(),t(13,"span",45),r(14),n()(),t(15,"div",46),b(),t(16,"svg",47),v(17,"path",48),n(),C(),t(18,"span"),r(19),n()(),t(20,"div",49),r(21),n()(),u(22,ee,6,1,"div",50)(23,te,6,0,"div",50),n()),l&2){let e=a.$implicit,i=p(2);S("border-green-500",i.isRaceCompleted(e.date))("border-f1-accent",!i.isRaceCompleted(e.date)),s("routerLink",L(22,Y,e.season,e.round)),o(2),S("bg-green-500/20",i.isRaceCompleted(e.date))("text-green-400",i.isRaceCompleted(e.date))("bg-f1-accent/20",!i.isRaceCompleted(e.date))("text-f1-accent",!i.isRaceCompleted(e.date)),o(),m(" ",i.isRaceCompleted(e.date)?"COMPLETED":"UPCOMING"," "),o(2),m("Round ",e.round),o(2),x(e.raceName),o(7),R("",e.Circuit.Location.locality,", ",e.Circuit.Location.country),o(5),x(i.formatDate(e.date)),o(2),m(" ",e.Circuit.circuitName," "),o(),s("ngIf",!i.isRaceCompleted(e.date)),o(),s("ngIf",i.isRaceCompleted(e.date))}}function ie(l,a){l&1&&(t(0,"div",57)(1,"div",58),r(2,"No races found"),n()())}function ae(l,a){if(l&1){let e=I();t(0,"div",3)(1,"div",4)(2,"div")(3,"h1",5),r(4,"Race Calendar"),n(),t(5,"p",6),r(6),n()(),t(7,"div",7)(8,"input",8),M("ngModelChange",function(d){_(e);let g=p();return E(g.searchTerm,d)||(g.searchTerm=d),w(d)}),n(),t(9,"select",9),M("ngModelChange",function(d){_(e);let g=p();return E(g.selectedFilter,d)||(g.selectedFilter=d),w(d)}),t(10,"option",10),r(11),n(),t(12,"option",11),r(13),n(),t(14,"option",12),r(15),n()()()(),u(16,$,16,7,"div",13),t(17,"div",14)(18,"div",15)(19,"div",16)(20,"div")(21,"div",17),r(22,"Total Races"),n(),t(23,"div",5),r(24),n()(),t(25,"div",18),r(26,"\u{1F3C1}"),n()()(),t(27,"div",15)(28,"div",16)(29,"div")(30,"div",17),r(31,"Completed"),n(),t(32,"div",19),r(33),n()(),t(34,"div",18),r(35,"\u2713"),n()()(),t(36,"div",15)(37,"div",16)(38,"div")(39,"div",17),r(40,"Remaining"),n(),t(41,"div",20),r(42),n()(),t(43,"div",18),r(44,"\u{1F4C5}"),n()()()(),t(45,"div",21)(46,"app-card",22)(47,"div",23),u(48,ne,24,25,"div",24),n(),u(49,ie,3,0,"div",25),n()()()}if(l&2){let e=p();o(6),m("2024 Season \u2022 ",e.raceCalendar().length," Races"),o(2),k("ngModel",e.searchTerm),o(),k("ngModel",e.selectedFilter),o(2),m("All Races (",e.raceCalendar().length,")"),o(2),m("Completed (",e.completedCount(),")"),o(2),m("Upcoming (",e.upcomingCount(),")"),o(),s("ngIf",e.nextRace()&&e.selectedFilter()!=="completed"),o(8),x(e.raceCalendar().length),o(9),x(e.completedCount()),o(9),x(e.upcomingCount()),o(6),s("ngForOf",e.filteredRaces()),o(),s("ngIf",e.filteredRaces().length===0)}}var Q=class l{apiService=h(U);seasonService=h(W);raceCalendar=f([]);loading=f(!0);searchTerm=f("");selectedFilter=f("all");constructor(){N(()=>{this.loadRaces(this.seasonService.selectedSeason())})}loadRaces(a){this.loading.set(!0),this.apiService.getRaceCalendar(a).subscribe({next:e=>{this.raceCalendar.set(e||[]),this.loading.set(!1)},error:e=>{console.error("Error loading races:",e),this.loading.set(!1)}})}filteredRaces=y(()=>{let a=this.raceCalendar(),e=new Date;if(this.selectedFilter()==="completed"?a=a.filter(i=>new Date(i.date)<e):this.selectedFilter()==="upcoming"&&(a=a.filter(i=>new Date(i.date)>=e)),this.searchTerm()){let i=this.searchTerm().toLowerCase();a=a.filter(d=>d.raceName.toLowerCase().includes(i)||d.Circuit.circuitName.toLowerCase().includes(i)||d.Circuit.Location.country.toLowerCase().includes(i)||d.Circuit.Location.locality.toLowerCase().includes(i))}return a});completedCount=y(()=>{let a=new Date;return this.raceCalendar().filter(e=>new Date(e.date)<a).length});upcomingCount=y(()=>{let a=new Date;return this.raceCalendar().filter(e=>new Date(e.date)>=a).length});nextRace=y(()=>{let a=new Date;return this.raceCalendar().find(e=>new Date(e.date)>=a)});isRaceCompleted(a){return new Date(a)<new Date}getDaysUntilRace(a){let e=new Date,d=new Date(a).getTime()-e.getTime();return Math.ceil(d/(1e3*60*60*24))}formatDate(a){return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=D({type:l,selectors:[["app-races"]],decls:3,vars:2,consts:[[1,"max-w-7xl","mx-auto"],[4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"space-y-6"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-3xl","font-bold","text-black","dark:text-white"],[1,"text-gray-400","mt-1"],[1,"flex","gap-3"],["type","text","placeholder","Search races...",1,"bg-gray-100","dark:bg-gray-900","text-gray-900","dark:text-white","px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:border-f1-accent","transition-colors","w-64",3,"ngModelChange","ngModel"],[1,"bg-gray-100","dark:bg-gray-900","text-gray-900","dark:text-white","px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:border-f1-accent","transition-colors",3,"ngModelChange","ngModel"],["value","all"],["value","completed"],["value","upcoming"],["class","bg-gradient-to-r from-f1-accent/20 to-f1-primary rounded-2xl p-6 border border-f1-accent/30",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"bg-f1-surface","rounded-lg","p-6","border","border-gray-800"],[1,"flex","items-center","justify-between"],[1,"text-gray-400","text-sm","mb-1"],[1,"text-4xl"],[1,"text-3xl","font-bold","text-green-400"],[1,"text-3xl","font-bold","text-f1-accent"],[1,"grid","grid-cols-1","gap-6"],["title","All Races",1,"race-card"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","bg-gray-100 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700 transition-all cursor-pointer hover:transform hover:scale-105",3,"border-green-500","border-f1-accent","routerLink",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"bg-gradient-to-r","from-f1-accent/20","to-f1-primary","rounded-2xl","p-6","border","border-f1-accent/30"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between","gap-4"],[1,"text-f1-accent","text-sm","font-semibold","mb-2"],[1,"text-2xl","font-bold","text-black","dark:text-white","mb-1"],[1,"text-gray-600","dark:text-gray-300"],[1,"text-f1-accent","mt-2","font-medium"],[1,"text-center","bg-gray-100","text-gray-900","dark:bg-gray-900","dark:text-gray-100","rounded-lg","p-6"],[1,"text-4xl","font-bold","text-f1-accent"],[1,"text-gray-500","dark:text-gray-400","mt-1"],[1,"bg-gray-100","dark:bg-gray-900","rounded-lg","p-4","border","border-gray-200","dark:border-gray-800","hover:border-gray-300","dark:hover:border-gray-700","transition-all","cursor-pointer","hover:transform","hover:scale-105",3,"routerLink"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-xs","font-semibold","px-2","py-1","rounded"],[1,"text-xs","text-gray-400"],[1,"text-lg","font-bold","text-black","dark:text-white","mb-2"],[1,"space-y-2","text-sm"],[1,"flex","items-start","gap-2","text-gray-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"flex-1"],[1,"flex","items-center","gap-2","text-gray-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-xs","text-gray-500","mt-2"],["class","mt-4 pt-4 border-t border-gray-800",4,"ngIf"],[1,"mt-4","pt-4","border-t","border-gray-800"],[1,"text-sm","font-bold","text-f1-accent"],[1,"flex","items-center","justify-center","gap-2","text-green-400","text-sm"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"font-medium"],[1,"text-center","py-12"],[1,"text-gray-400"]],template:function(e,i){e&1&&(t(0,"div",0),u(1,Z,1,0,"app-loading",1)(2,ae,50,12,"div",2),n()),e&2&&(o(),s("ngIf",i.loading()),o(),s("ngIf",!i.loading()))},dependencies:[j,F,V,P,O,K,q,J,z,X,G,H,A,B],styles:[`[_nghost-%COMP%]{display:block}.race-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 20px #00f0ff33}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem}`]})};export{Q as Races};
