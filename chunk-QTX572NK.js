import{a as z}from"./chunk-IQOTOQLL.js";import"./chunk-Q2AQ2DAQ.js";import"./chunk-PT2JM3JA.js";import{a as V,b as O,c as B,g as q}from"./chunk-IJ6G24IL.js";import{a as R}from"./chunk-SJCQLIIU.js";import{b as G}from"./chunk-FQ6L6BO3.js";import{a as A,b as W,c as j}from"./chunk-TE33ORRB.js";import{h as P,k as F}from"./chunk-XWUIZVU3.js";import{$ as y,Ba as r,Cb as w,Db as T,Eb as k,Hb as I,Pb as E,Qb as M,Ra as C,Va as c,W as v,aa as b,ab as d,bb as i,cb as n,db as l,gc as D,hc as L,ja as m,kb as S,kc as N,mb as p,ub as g,vb as _,xb as s,yb as u,zb as f}from"./chunk-VMW2IAQ2.js";var J=o=>["/constructors",o];function K(o,e){o&1&&l(0,"app-loading")}function Q(o,e){if(o&1&&(i(0,"app-card",18),l(1,"app-bar-chart",19),n()),o&2){let t=p(2);r(),d("data",t.winsChartData())("height",350)}}function U(o,e){if(o&1&&(i(0,"div",20),l(1,"div",21),i(2,"div",22)(3,"span",23),s(4),n(),i(5,"div",24)(6,"div",25),s(7),n(),i(8,"div",26),s(9,"points"),n()()(),i(10,"div",27)(11,"h3",28),s(12),n(),i(13,"p",29),s(14),n()(),i(15,"div",30)(16,"div")(17,"span",31),s(18,"Wins: "),n(),i(19,"span",32),s(20),n()(),i(21,"div",33),l(22,"span",34),n()()()),o&2){let t=e.$implicit,a=p(2);g("border-color","transparent"),d("routerLink",I(28,J,t.Constructor.constructorId)),r(),g("background-color",a.getTeamColor(t.Constructor.constructorId)),r(2),_("bg-yellow-500",t.position==="1")("text-black",t.position==="1")("bg-gray-400",t.position==="2")("text-black",t.position==="2")("bg-orange-600",t.position==="3")("text-white",t.position==="3")("bg-gray-800",+t.position>3)("text-gray-300",+t.position>3),r(),f(" ",t.position," "),r(3),u(t.points),r(5),f(" ",t.Constructor.name," "),r(2),u(t.Constructor.nationality),r(6),u(t.wins),r(2),g("background-color",a.getTeamColor(t.Constructor.constructorId))}}function X(o,e){o&1&&(i(0,"div",35)(1,"div",31),s(2,"No constructors found"),n()())}function Y(o,e){if(o&1){let t=S();i(0,"div",3)(1,"div",4)(2,"div")(3,"h1",5),s(4,"Constructors Championship"),n(),i(5,"p",6),s(6),n()(),i(7,"div",7)(8,"input",8),k("ngModelChange",function(x){y(t);let h=p();return T(h.searchTerm,x)||(h.searchTerm=x),b(x)}),n()()(),i(9,"div",9)(10,"app-card",10),l(11,"app-bar-chart",11),n(),c(12,Q,2,2,"app-card",12),n(),i(13,"div",13)(14,"app-card",14)(15,"div",15),c(16,U,23,30,"div",16),n(),c(17,X,3,0,"div",17),n()()()}if(o&2){let t,a=p();r(6),f("",(t=a.constructorStandings())==null?null:t.season," Season Standings"),r(2),w("ngModel",a.searchTerm),r(3),d("data",a.pointsChartData())("height",350),r(),d("ngIf",a.winsChartData().length>0),r(2),d("noPadding",!0),r(2),d("ngForOf",a.filteredTeams()),r(),d("ngIf",a.filteredTeams().length===0)}}var H=class o{apiService=v(j);seasonService=v(R);constructorStandings=m(null);loading=m(!1);searchTerm=m("");constructor(){M(()=>{this.fetchConstructorStandings(this.seasonService.selectedSeason())})}fetchConstructorStandings(e){this.loading.set(!0),this.apiService.getConstructorStandings(e).subscribe({next:t=>{this.constructorStandings.set(t),this.loading.set(!1)},error:t=>{console.error("Error fetching constructor standings:",t),this.loading.set(!1)}})}filteredTeams=E(()=>{let e=this.constructorStandings()?.ConstructorStandings||[];if(this.searchTerm()){let t=this.searchTerm().toLowerCase();e=e.filter(a=>a.Constructor.name.toLowerCase().includes(t)||a.Constructor.constructorId.toLowerCase().includes(t))}return e});pointsChartData(){return this.filteredTeams().map(e=>({name:e.Constructor.name,value:parseInt(e.points,10)}))}winsChartData(){return this.filteredTeams().map(e=>({name:e.Constructor.name,value:parseInt(e.wins,10)}))}getTeamColor(e){return G(e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["app-constructors"]],decls:3,vars:2,consts:[[1,"max-w-7xl","mx-auto"],[4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"space-y-6"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-3xl","font-bold","text-black","dark:text-white"],[1,"text-gray-400","mt-1"],[1,"flex","gap-3"],["type","text","placeholder","Search constructors...",1,"bg-gray-100","dark:bg-gray-900","text-gray-900","dark:text-white","px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:border-f1-accent","transition-colors","w-64","placeholder-gray-500","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["title","Championship Points"],["xAxisLabel","Team","yAxisLabel","Points",3,"data","height"],["title","Race Wins",4,"ngIf"],[1,"grid","grid-cols-1","gap-6"],["title","All Constructors",3,"noPadding"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-6"],["class","bg-gray-100 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700 transition-all cursor-pointer hover:transform hover:scale-105",3,"border-color","routerLink",4,"ngFor","ngForOf"],["class","p-12 text-center",4,"ngIf"],["title","Race Wins"],["xAxisLabel","Team","yAxisLabel","Wins",3,"data","height"],[1,"bg-gray-100","dark:bg-gray-900","rounded-lg","p-4","border","border-gray-200","dark:border-gray-800","hover:border-gray-300","dark:hover:border-gray-700","transition-all","cursor-pointer","hover:transform","hover:scale-105",3,"routerLink"],[1,"h-2","rounded-full","mb-4"],[1,"flex","items-start","justify-between","mb-3"],[1,"inline-flex","items-center","justify-center","w-10","h-10","rounded-full","text-lg","font-bold"],[1,"text-right"],[1,"text-2xl","font-bold","text-f1-accent"],[1,"text-xs","text-gray-400"],[1,"mb-3"],[1,"text-xl","font-bold","text-black","dark:text-white","mb-1"],[1,"text-sm","text-gray-400"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-gray-400"],[1,"text-black","dark:text-white","font-semibold"],[1,"flex","items-center","gap-2"],[1,"w-3","h-3","rounded-full"],[1,"p-12","text-center"]],template:function(t,a){t&1&&(i(0,"div",0),c(1,K,1,0,"app-loading",1)(2,Y,18,8,"div",2),n()),t&2&&(r(),d("ngIf",a.loading()),r(),d("ngIf",!a.loading()))},dependencies:[N,D,L,F,P,q,V,O,B,A,W,z],encapsulation:2})};export{H as Constructors};
