import{b as j}from"./chunk-FQ6L6BO3.js";import{a as O,b as Q,c as A}from"./chunk-TE33ORRB.js";import{f as P,h as M,k as q}from"./chunk-XWUIZVU3.js";import{$ as b,Ab as g,Ba as n,F as E,Ib as R,Ra as I,Va as v,W as y,aa as h,ab as d,ba as k,bb as t,ca as w,cb as i,db as f,fc as C,gc as L,hc as N,ja as x,kb as T,kc as F,lb as D,mb as m,ub as S,vb as p,x as _,xb as a,yb as c,zb as s}from"./chunk-VMW2IAQ2.js";var B=(l,r)=>({"text-black dark:text-white":l,"text-red-400":r});function G(l,r){l&1&&f(0,"app-loading")}function $(l,r){if(l&1&&(t(0,"div",25)(1,"div",26),a(2),i(),t(3,"div",9)(4,"h3",27),a(5),i(),t(6,"p",28),a(7),i()(),t(8,"div",29)(9,"div",30)(10,"span",31),a(11,"Grid:"),i(),t(12,"span",32),a(13),i()(),t(14,"div",30)(15,"span",31),a(16,"Time:"),i(),t(17,"span",32),a(18),i()(),t(19,"div",30)(20,"span",31),a(21,"Points:"),i(),t(22,"span",33),a(23),i()()()()),l&2){let e=r.$implicit,o=r.index,u=m(2);p("border-yellow-500",o===0)("border-gray-400",o===1)("border-orange-600",o===2),n(),p("bg-yellow-500",o===0)("text-black",o===0)("bg-gray-400",o===1)("text-black",o===1)("bg-orange-600",o===2)("text-white",o===2),n(),s(" ",e.position," "),n(3),g(" ",e.Driver.givenName," ",e.Driver.familyName," "),n(2),c(e.Constructor.name),n(6),s("P",e.grid),n(5),c(u.formatTime((e.Time==null?null:e.Time.time)||"N/A")),n(5),c(e.points)}}function W(l,r){if(l&1&&(t(0,"tr",43)(1,"td",44)(2,"span",45),a(3),i()(),t(4,"td",44)(5,"div",46),f(6,"div",47),t(7,"div")(8,"div",48),a(9),i(),t(10,"div",49),a(11),i()()()(),t(12,"td",50),a(13),i(),t(14,"td",51),a(15),i(),t(16,"td",52)(17,"span",53),a(18),i()(),t(19,"td",54),a(20),i()()),l&2){let e=r.$implicit,o=m(3);n(2),p("bg-yellow-500",+e.position==1)("text-black",+e.position==1)("bg-gray-400",+e.position==2)("text-black",+e.position==2)("bg-orange-600",+e.position==3)("text-white",+e.position==3)("bg-gray-800",+e.position>3&&+e.position<=10)("text-gray-300",+e.position>3&&+e.position<=10)("bg-red-900",+e.position>20)("text-red-300",+e.position>20),n(),s(" ",e.position>20?"DNF":e.position," "),n(3),S("background-color",o.getTeamColor(e.Constructor.constructorId)),n(3),g(" ",e.Driver.givenName," ",e.Driver.familyName," "),n(2),c(e.Driver.code),n(2),s(" ",e.Constructor.name," "),n(2),s(" ",e.grid," "),n(2),d("ngClass",R(35,B,e.status==="Finished",e.status!=="Finished")),n(),s(" ",(e.Time==null?null:e.Time.time)||e.status," "),n(),p("text-f1-accent",e.points>"0")("text-gray-500",e.points==="0"),n(),s(" ",e.points," ")}}function z(l,r){if(l&1&&(t(0,"div",18)(1,"app-card",34)(2,"div",35)(3,"table",36)(4,"thead",37)(5,"tr")(6,"th",38),a(7,"Pos"),i(),t(8,"th",38),a(9,"Driver"),i(),t(10,"th",38),a(11,"Team"),i(),t(12,"th",39),a(13,"Grid"),i(),t(14,"th",38),a(15,"Time/Status"),i(),t(16,"th",40),a(17,"Points"),i()()(),t(18,"tbody",41),v(19,W,21,38,"tr",42),i()()()()()),l&2){let e=m(2);n(),d("noPadding",!0),n(18),d("ngForOf",e.raceDetails().Results)}}function H(l,r){if(l&1&&(t(0,"tr",43)(1,"td",44)(2,"span",45),a(3),i()(),t(4,"td",44)(5,"div",46),f(6,"div",47),t(7,"div")(8,"div",48),a(9),i(),t(10,"div",49),a(11),i()()()(),t(12,"td",50),a(13),i(),t(14,"td",56),a(15),i(),t(16,"td",56),a(17),i(),t(18,"td",57),a(19),i()()),l&2){let e=r.$implicit,o=m(3);n(2),p("bg-yellow-500",e.position==="1")("text-black",e.position==="1")("bg-gray-400",e.position==="2")("text-black",e.position==="2")("bg-orange-600",e.position==="3")("text-white",e.position==="3")("bg-gray-800",+e.position>3)("text-gray-300",+e.position>3),n(),s(" ",e.position," "),n(3),S("background-color",o.getTeamColor(e.Constructor.constructorId)),n(3),g(" ",e.Driver.givenName," ",e.Driver.familyName," "),n(2),c(e.Driver.code),n(2),s(" ",e.Constructor.name," "),n(2),s(" ",e.Q1||"-"," "),n(2),s(" ",e.Q2||"-"," "),n(),p("text-f1-accent",e.Q3)("text-gray-500",!e.Q3),n(),s(" ",e.Q3||"-"," ")}}function J(l,r){if(l&1&&(t(0,"div",18)(1,"app-card",55)(2,"div",35)(3,"table",36)(4,"thead",37)(5,"tr")(6,"th",38),a(7,"Pos"),i(),t(8,"th",38),a(9,"Driver"),i(),t(10,"th",38),a(11,"Team"),i(),t(12,"th",40),a(13,"Q1"),i(),t(14,"th",40),a(15,"Q2"),i(),t(16,"th",40),a(17,"Q3"),i()()(),t(18,"tbody",41),v(19,H,20,30,"tr",42),i()()()()()),l&2){let e=m(2);n(),d("noPadding",!0),n(18),d("ngForOf",e.qualifyingResults())}}function U(l,r){if(l&1&&(t(0,"div",18)(1,"app-card",58)(2,"div",59)(3,"div",60)(4,"div",61)(5,"div",62),a(6),i(),t(7,"div")(8,"h3",63),a(9),i(),t(10,"p",64),a(11),i()()(),t(12,"div",65)(13,"div")(14,"div",16),a(15,"Time"),i(),t(16,"div",17),a(17),i()(),t(18,"div")(19,"div",16),a(20,"Lap"),i(),t(21,"div",17),a(22),i()(),t(23,"div")(24,"div",16),a(25,"Avg Speed"),i(),t(26,"div",17),a(27),i()()()()()()()),l&2){let e=m(2);n(6),s(" ",e.fastestLapDriver.Driver.code," "),n(3),g(" ",e.fastestLapDriver.Driver.givenName," ",e.fastestLapDriver.Driver.familyName," "),n(2),c(e.fastestLapDriver.Constructor.name),n(6),c(e.fastestLapDriver.FastestLap==null||e.fastestLapDriver.FastestLap.Time==null?null:e.fastestLapDriver.FastestLap.Time.time),n(5),s("",e.fastestLapDriver.FastestLap==null?null:e.fastestLapDriver.FastestLap.lap," "),n(5),s("",e.fastestLapDriver.FastestLap==null||e.fastestLapDriver.FastestLap.AverageSpeed==null?null:e.fastestLapDriver.FastestLap.AverageSpeed.speed," km/h")}}function Y(l,r){if(l&1){let e=T();t(0,"div",4)(1,"button",5),k(),t(2,"svg",6),f(3,"path",7),i(),a(4," Back to Races "),i(),w(),t(5,"div",8)(6,"div",9)(7,"div",10),a(8),i(),t(9,"h1",11),a(10),i(),t(11,"p",12),a(12),i(),t(13,"p",13),a(14),i()(),t(15,"div",14)(16,"div",15)(17,"div",16),a(18,"Winner"),i(),t(19,"div",17),a(20),i()(),t(21,"div",15)(22,"div",16),a(23,"Fastest Lap"),i(),t(24,"div",17),a(25),i()(),t(26,"div",15)(27,"div",16),a(28,"Total Laps"),i(),t(29,"div",17),a(30),i()(),t(31,"div",15)(32,"div",16),a(33,"DNFs"),i(),t(34,"div",17),a(35),i()()()(),t(36,"div",18)(37,"app-card",19)(38,"div",20),v(39,$,24,25,"div",21),i()()(),t(40,"div",22)(41,"button",23),D("click",function(){b(e);let u=m();return h(u.activeTab.set("results"))}),a(42," Race Results "),i(),t(43,"button",23),D("click",function(){b(e);let u=m();return h(u.activeTab.set("qualifying"))}),a(44," Qualifying "),i()(),v(45,z,20,2,"div",24)(46,J,20,2,"div",24)(47,U,28,7,"div",24),i()}if(l&2){let e=m();n(8),g(" ROUND ",e.raceDetails().round," \u2022 ",e.raceDetails().season," "),n(2),s(" ",e.raceDetails().raceName," "),n(2),s(" ",e.raceDetails().Circuit.circuitName," "),n(2),g(" ",e.raceDetails().Circuit.Location.locality,", ",e.raceDetails().Circuit.Location.country," "),n(6),c(e.winner==null?null:e.winner.Driver.familyName),n(5),s("",(e.fastestLapDriver==null?null:e.fastestLapDriver.Driver.familyName)||"N/A"," "),n(5),c((e.winner==null?null:e.winner.laps)||"N/A"),n(5),c(e.dnfCount),n(4),d("ngForOf",e.podium),n(2),p("text-f1-accent",e.activeTab()==="results")("border-b-2",e.activeTab()==="results")("border-f1-accent",e.activeTab()==="results")("text-gray-400",e.activeTab()!=="results"),n(2),p("text-f1-accent",e.activeTab()==="qualifying")("border-b-2",e.activeTab()==="qualifying")("border-f1-accent",e.activeTab()==="qualifying")("text-gray-400",e.activeTab()!=="qualifying"),n(2),d("ngIf",e.activeTab()==="results"),n(),d("ngIf",e.activeTab()==="qualifying"),n(),d("ngIf",e.fastestLapDriver)}}function K(l,r){l&1&&(t(0,"div",66)(1,"div",67),a(2,"\u{1F3C1}"),i(),t(3,"h2",68),a(4,"Race Not Found"),i(),t(5,"p",69),a(6,"The race you're looking for doesn't exist."),i(),t(7,"button",70),a(8," Back to Races "),i()())}var V=class l{apiService=y(A);route=y(P);season=x("");round=x("");raceDetails=x(null);qualifyingResults=x([]);loading=x(!0);activeTab=x("results");ngOnInit(){this.route.params.subscribe(r=>{this.season.set(r.season),this.round.set(r.round),this.loadRaceData()})}loadRaceData(){this.loading.set(!0),_({raceData:this.apiService.getRaceDetails(this.season(),this.round()),qualifyingData:this.apiService.getQualifyingDetails(this.season(),this.round())}).pipe(E(()=>this.loading.set(!1))).subscribe({next:({raceData:r,qualifyingData:e})=>{this.raceDetails.set(r),this.qualifyingResults.set(e)},error:r=>{console.error("Error loading race data:",r)}})}getTeamColor(r){return j(r)}formatTime(r){return r?(r.startsWith("+"),r):"-"}get fastestLapDriver(){return this.raceDetails()?.Results?this.raceDetails().Results.find(r=>r.FastestLap?.rank==="1"):null}get winner(){return this.raceDetails()?.Results?this.raceDetails().Results[0]:null}get podium(){return this.raceDetails()?.Results?this.raceDetails().Results.slice(0,3):[]}get dnfCount(){return this.raceDetails()?.Results?this.raceDetails().Results.filter(r=>r.status!=="Finished"&&!r.status.includes("+")).length:0}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=I({type:l,selectors:[["app-race-details"]],decls:4,vars:3,consts:[[1,"max-w-7xl","mx-auto"],[4,"ngIf"],["class","space-y-6",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[1,"space-y-6"],["routerLink","/races",1,"flex","items-center","gap-2","text-f1-accent","hover:text-f1-accent/80","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"bg-gradient-to-r","from-f1-primary","to-f1-surface","rounded-2xl","p-8","border","border-gray-800"],[1,"mb-4"],[1,"text-f1-accent","text-sm","font-semibold","mb-2"],[1,"text-4xl","font-bold","text-black","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-300","text-lg"],[1,"text-gray-400","mt-1"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","mt-6"],[1,"bg-gray-100","dark:bg-gray-900","border","border-gray-300","dark:border-gray-700","rounded-lg","p-4"],[1,"text-gray-400","text-xs","mb-1"],[1,"text-black","dark:text-white","font-bold"],[1,"grid","grid-cols-1","gap-6"],["title","Podium"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["class","podium-card bg-gray-100 dark:bg-gray-900 rounded-lg p-6 text-center border-2 transition-all",3,"border-yellow-500","border-gray-400","border-orange-600",4,"ngFor","ngForOf"],[1,"flex","gap-2","border-b","border-gray-800"],[1,"px-6","py-3","font-medium","transition-colors",3,"click"],["class","grid grid-cols-1 gap-6",4,"ngIf"],[1,"podium-card","bg-gray-100","dark:bg-gray-900","rounded-lg","p-6","text-center","border-2","transition-all"],[1,"inline-flex","items-center","justify-center","w-16","h-16","rounded-full","text-2xl","font-bold","mb-4"],[1,"text-xl","font-bold","text-black","dark:text-white"],[1,"text-sm","text-gray-400","mt-1"],[1,"space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-400"],[1,"text-black","dark:text-white","font-medium"],[1,"text-f1-accent","font-bold"],["title","Race Results",3,"noPadding"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-200","dark:bg-gray-900"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-900","dark:text-gray-400","uppercase"],[1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-900","dark:text-gray-400","uppercase"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-900","dark:text-gray-400","uppercase"],[1,"divide-y","divide-gray-800"],["class","hover:bg-gray-200 dark:hover:bg-gray-900 transition-colors",4,"ngFor","ngForOf"],[1,"hover:bg-gray-200","dark:hover:bg-gray-900","transition-colors"],[1,"px-6","py-4","whitespace-nowrap"],[1,"inline-flex","items-center","justify-center","w-8","h-8","rounded-full","text-sm","font-bold"],[1,"flex","items-center","gap-3"],[1,"w-1","h-8","rounded-full"],[1,"text-sm","font-medium","text-black","dark:text-white"],[1,"text-xs","text-gray-400"],[1,"px-6","py-4","text-sm","text-gray-700","dark:text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","text-center","text-sm","text-gray-700","dark:text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-bold"],["title","Qualifying Results",3,"noPadding"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],["title","Fastest Lap"],[1,"bg-gray-100","dark:bg-gray-900","rounded-lg","p-6"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between","gap-4"],[1,"flex","items-center","gap-4"],[1,"w-16","h-16","rounded-full","flex","items-center","justify-center","text-xl","font-bold","bg-purple-500","text-black","dark:text-white"],[1,"text-lg","font-bold","text-black","dark:text-white"],[1,"text-sm","text-gray-400"],[1,"grid","grid-cols-3","gap-6","text-center"],[1,"text-center","py-12"],[1,"text-6xl","mb-4"],[1,"text-2xl","font-bold","text-black","dark:text-white","mb-2"],[1,"text-gray-400","mb-6"],["routerLink","/races",1,"bg-f1-accent","text-black","px-6","py-3","rounded-lg","font-medium","hover:bg-f1-accent/80","transition-colors"]],template:function(e,o){e&1&&(t(0,"div",0),v(1,G,1,0,"app-loading",1)(2,Y,48,30,"div",2)(3,K,9,0,"div",3),i()),e&2&&(n(),d("ngIf",o.loading()),n(),d("ngIf",!o.loading()&&o.raceDetails()),n(),d("ngIf",!o.loading()&&!o.raceDetails()))},dependencies:[F,C,L,N,q,M,O,Q],styles:["[_nghost-%COMP%]{display:block}.podium-card[_ngcontent-%COMP%]{transition:all .3s ease}.podium-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}"]})};export{V as RaceDetails};
