import{a as Q}from"./chunk-IQOTOQLL.js";import"./chunk-Q2AQ2DAQ.js";import"./chunk-PT2JM3JA.js";import{a as R,b as z,c as q,d as G,e as H,f as J,g as K}from"./chunk-IJ6G24IL.js";import{a as B}from"./chunk-SJCQLIIU.js";import{b as U}from"./chunk-FQ6L6BO3.js";import{a as W,b as V,c as j}from"./chunk-TE33ORRB.js";import{h as A,k as O}from"./chunk-XWUIZVU3.js";import{$ as x,Ba as r,Cb as _,Db as C,Eb as D,Hb as T,Jb as I,Kb as E,Qb as M,Ra as S,Va as g,W as f,aa as y,ab as l,bb as a,cb as n,db as u,gc as N,hc as L,ja as v,jc as P,kb as w,kc as F,mb as p,ub as h,vb as k,xb as s,yb as b,zb as d}from"./chunk-VMW2IAQ2.js";var Y=o=>["/drivers",o];function Z(o,t){o&1&&u(0,"app-loading")}function $(o,t){if(o&1&&(a(0,"option",21),s(1),I(2,"titlecase"),n()),o&2){let e=t.$implicit;l("value",e),r(),d(" ",E(2,2,e.replace("_"," "))," ")}}function ee(o,t){if(o&1&&(a(0,"app-card",22),u(1,"app-bar-chart",23),n()),o&2){let e=p(2);r(),l("data",e.winsChartData)("customColors",e.driverColors)("height",350)}}function te(o,t){if(o&1&&(a(0,"div",24)(1,"div",25)(2,"span",26),s(3),n(),a(4,"div",27)(5,"div",28),s(6),n(),a(7,"div",29),s(8,"points"),n()()(),a(9,"div",30)(10,"div",31),s(11),n(),a(12,"h3",32),s(13),n(),a(14,"h3",32),s(15),n()(),a(16,"div",33)(17,"div",34),s(18),n(),a(19,"div",35),u(20,"span",36),a(21,"span",37),s(22),n()()()()),o&2){let e=t.$implicit,i=p(2);h("border-color","transparent"),l("routerLink",T(28,Y,e.Driver.driverId)),r(2),k("bg-yellow-500",e.position==="1")("text-black",e.position==="1")("bg-gray-400",e.position==="2")("text-black",e.position==="2")("bg-orange-600",e.position==="3")("text-white",e.position==="3")("bg-gray-800",+e.position>3)("text-gray-300",+e.position>3),r(),d(" ",e.position," "),r(3),b(e.points),r(5),b(e.Driver.code),r(2),d(" ",e.Driver.givenName," "),r(2),d(" ",e.Driver.familyName," "),r(3),d(" ",e.Constructors[0]==null?null:e.Constructors[0].name," "),r(2),h("background-color",i.getTeamColor(e.Constructors[0]==null?null:e.Constructors[0].constructorId)),r(2),d("",e.wins," wins")}}function re(o,t){o&1&&(a(0,"div",38)(1,"div",39),s(2,"No drivers found"),n()())}function ie(o,t){if(o&1){let e=w();a(0,"div",3)(1,"div",4)(2,"div")(3,"h1",5),s(4,"Drivers Championship"),n(),a(5,"p",6),s(6),n()(),a(7,"div",7)(8,"input",8),D("ngModelChange",function(c){x(e);let m=p();return C(m.searchTerm,c)||(m.searchTerm=c),y(c)}),n(),a(9,"select",9),D("ngModelChange",function(c){x(e);let m=p();return C(m.selectedTeam,c)||(m.selectedTeam=c),y(c)}),a(10,"option",10),s(11,"All Teams"),n(),g(12,$,3,4,"option",11),n()()(),a(13,"div",12)(14,"app-card",13),u(15,"app-bar-chart",14),n(),g(16,ee,2,3,"app-card",15),n(),a(17,"div",16)(18,"app-card",17)(19,"div",18),g(20,te,23,30,"div",19),n(),g(21,re,3,0,"div",20),n()()()}if(o&2){let e,i=p();r(6),d("",(e=i.driverStandings())==null?null:e.season," Season Standings"),r(2),_("ngModel",i.searchTerm),r(),_("ngModel",i.selectedTeam),r(3),l("ngForOf",i.teams),r(3),l("data",i.pointsChartData)("customColors",i.driverColors)("height",350),r(),l("ngIf",i.winsChartData.length>0),r(2),l("noPadding",!0),r(2),l("ngForOf",i.filteredDrivers),r(),l("ngIf",i.filteredDrivers.length===0)}}var X=class o{apiService=f(j);seasonService=f(B);driverStandings=v(null);loading=v(!0);searchTerm=v("");selectedTeam=v("all");constructor(){M(()=>{this.loadDrivers(this.seasonService.selectedSeason())})}loadDrivers(t){this.loading.set(!0),this.apiService.getDriverStandings(t).subscribe({next:e=>{this.driverStandings.set(e),this.loading.set(!1)},error:e=>{console.error("Error fetching driver standings:",e),this.loading.set(!1)}})}get filteredDrivers(){let t=this.driverStandings()?.DriverStandings||[];if(this.searchTerm()){let e=this.searchTerm().toLowerCase();t=t.filter(i=>i.Driver.givenName.toLowerCase().includes(e)||i.Driver.familyName.toLowerCase().includes(e)||i.Driver.code.toLowerCase().includes(e))}return this.selectedTeam()&&this.selectedTeam()!=="all"&&(t=t.filter(e=>e.Constructors[0]?.constructorId===this.selectedTeam())),t}get teams(){let t=this.driverStandings().DriverStandings||[],e=new Set(t.map(i=>i.Constructors[0]?.constructorId));return Array.from(e)}get pointsChartData(){return this.filteredDrivers.slice(0,10).map(t=>({name:t.Driver.code,value:parseInt(t.points)}))}get winsChartData(){return this.filteredDrivers.slice(0,10).filter(t=>parseInt(t.wins)>0).map(t=>({name:t.Driver.code,value:parseInt(t.wins)}))}get driverColors(){return this.filteredDrivers.slice(0,10).map(t=>({name:t.Driver.code,value:this.getTeamColor(t.Constructors[0]?.constructorId)}))}getTeamColor(t){return U(t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-drivers"]],decls:3,vars:2,consts:[[1,"max-w-7xl","mx-auto"],[4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"space-y-6"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-3xl","font-bold","text-black","dark:text-white"],[1,"text-gray-400","mt-1"],[1,"flex","gap-3"],["type","text","placeholder","Search drivers...",1,"bg-gray-100","dark:bg-gray-900","text-gray-900","dark:text-white","px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:border-f1-accent","transition-colors","w-64","placeholder-gray-500","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],[1,"bg-gray-100","dark:bg-gray-900","text-gray-900","dark:text-white","px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:border-f1-accent","transition-colors","cursor-pointer",3,"ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["title","Championship Points"],["xAxisLabel","Driver","yAxisLabel","Points",3,"data","customColors","height"],["title","Race Wins",4,"ngIf"],[1,"grid","grid-cols-1","gap-6"],["title","All Drivers",3,"noPadding"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-6"],["class","bg-gray-100 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700 transition-all cursor-pointer hover:transform hover:scale-105",3,"border-color","routerLink",4,"ngFor","ngForOf"],["class","p-12 text-center",4,"ngIf"],[3,"value"],["title","Race Wins"],["xAxisLabel","Driver","yAxisLabel","Wins",3,"data","customColors","height"],[1,"bg-gray-100","dark:bg-gray-900","rounded-lg","p-4","border","border-gray-200","dark:border-gray-800","hover:border-gray-300","dark:hover:border-gray-700","transition-all","cursor-pointer","hover:transform","hover:scale-105",3,"routerLink"],[1,"flex","items-start","justify-between","mb-3"],[1,"inline-flex","items-center","justify-center","w-10","h-10","rounded-full","text-lg","font-bold"],[1,"text-right"],[1,"text-2xl","font-bold","text-f1-accent"],[1,"text-xs","text-gray-400"],[1,"mb-3"],[1,"text-xs","text-gray-400","mb-1"],[1,"text-xl","font-bold","text-black","dark:text-white"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-400"],[1,"flex","items-center","gap-2"],[1,"w-3","h-3","rounded-full"],[1,"text-xs","text-gray-500"],[1,"p-12","text-center"],[1,"text-gray-400"]],template:function(e,i){e&1&&(a(0,"div",0),g(1,Z,1,0,"app-loading",1)(2,ie,22,11,"div",2),n()),e&2&&(r(),l("ngIf",i.loading()),r(),l("ngIf",!i.loading()))},dependencies:[F,N,L,O,A,K,H,J,R,G,z,q,W,V,Q,P],styles:[`[_nghost-%COMP%]{display:block}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem}`]})};export{X as Drivers};
